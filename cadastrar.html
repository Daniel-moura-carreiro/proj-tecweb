<!DOCTYPE html>
<html lang="pt-br">

<head>
    <title>Cadastro - Gerenciador de Calçados</title>
    <meta charset="utf-8">
    <script src="js/js37.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
        }

        h1 {
            color: #333;
            text-align: center;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        input {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        button {
            padding: 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            flex: 1;
        }

        .btn-primary {
            background: #28a745;
            color: white;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .message {
            margin-top: 15px;
            padding: 10px;
            border-radius: 4px;
        }

        .success {
            background: #d4edda;
            color: #155724;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>

<body>
    <h1>Registrar Novo Calçado</h1>

    <div class="form-group">
        <label for="txtCodigo">Código:</label>
        <input id="txtCodigo" type="text" placeholder="Código do calçado" autofocus>
    </div>

    <div class="form-group">
        <label for="txtModelo">Modelo:</label>
        <input id="txtModelo" type="text" placeholder="Nome/Modelo do calçado">
    </div>

    <div class="form-group">
        <label for="txtCor">Cor:</label>
        <input id="txtCor" type="text" placeholder="Cor do calçado">
    </div>

    <div class="form-group">
        <label for="txtTamanho">Tamanho:</label>
        <input id="txtTamanho" type="number" placeholder="Tamanho numérico">
    </div>

    <div class="form-group">
        <label for="txtQuantidade">Quantidade Inicial:</label>
        <input id="txtQuantidade" type="number" placeholder="Quantidade em estoque">
    </div>

    <div id="txtMensagem" class="message"></div>

    <div class="button-group">
        <button class="btn-secondary" onclick="window.location.href='menu.html'">Voltar</button>
        <button class="btn-primary" onclick="cadastrar()">Salvar</button>
    </div>

    <script>
        function cadastrar() {
            const msg = document.getElementById('txtMensagem');
            msg.className = 'message';
            msg.innerHTML = '';

            try {
                const codigo = document.getElementById('txtCodigo').value.trim();
                const modelo = document.getElementById('txtModelo').value.trim();
                const cor = document.getElementById('txtCor').value.trim();
                const tamanho = document.getElementById('txtTamanho').value;
                const quantidade = document.getElementById('txtQuantidade').value;

                // Validações
                if (!codigo) throw new Error('Informe o código do calçado');
                if (!modelo) throw new Error('Informe o modelo do calçado');
                if (!cor) throw new Error('Informe a cor do calçado');
                if (!tamanho || isNaN(tamanho)) throw new Error('Tamanho inválido');
                if (!quantidade || isNaN(quantidade)) throw new Error('Quantidade inválida');

                const calcado = new Calcado();
                calcado.cadastrar(codigo, modelo, cor, tamanho, quantidade);

                msg.className = 'message success';
                msg.innerHTML = 'Calçado registrado com sucesso!';

            } catch (error) {
                msg.className = 'message error';
                msg.innerHTML = error.message;
            }
        }
    </script>
</body>

</html>